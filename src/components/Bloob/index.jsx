'use client';
import React, { useEffect, useState } from 'react';
import { motion } from 'framer-motion';
import styles from "./styles.module.css";

const originalPath =
  "M71.43 117.091C34.54 160.186 12.85 215.227 10.477 283.654c-2.372 68.427 33.68 117.604 93.576 157.864 112.387 75.543 245.096 49.704 284.703-7.629 36.995-53.551 41.43-95.441 14.2-156.834-27.231-61.393-45.874-104.851-39.988-159.701 5.8-54.037 0.996-88.08-31.217-103.624-34.841-16.81-76.637-19.124-122.999 0C161.452 33.24 105.75 77 71.431 117.091";

const paths = [
  originalPath,
  "M71.43 107.091C34.54 150.186 7.85 205.227 5.477 273.654c-2.372 68.427 38.68 122.604 98.576 162.864 117.387 80.543 255.096 54.704 294.703-2.629 36.995-53.551 46.43-100.441 19.2-161.834-27.231-61.393-50.874-109.851-44.988-164.701 5.8-59.037-4.004-93.08-36.217-108.624-34.841-16.81-81.637-19.124-127.999 0C156.452 23.24 100.75 67 71.431 107.091",

  "M71.43 127.091C44.54 160.186 17.85 215.227 15.477 283.654c-2.372 68.427 28.68 112.604 88.576 152.864 107.387 70.543 235.096 34.704 274.703-22.629 31.995-48.551 36.43-90.441 9.2-151.834-27.231-61.393-40.874-99.851-34.988-154.701 5.8-49.037 5.996-83.08-26.217-98.624-34.841-16.81-71.637-14.124-117.999 5C166.452 33.24 110.75 77 71.431 127.091",

  "M71.43 97.091C34.54 140.186 7.85 195.227 5.477 263.654c-2.372 68.427 38.68 127.604 98.576 167.864 117.387 85.543 255.096 59.704 294.703 2.629 36.995-53.551 46.43-105.441 19.2-166.834-27.231-61.393-50.874-114.851-44.988-169.701 5.8-64.037-4.004-98.08-36.217-113.624-34.841-16.81-81.637-19.124-127.999 0C156.452 13.24 100.75 57 71.431 97.091",

  "M71.43 117.091C44.54 150.186 17.85 205.227 15.477 273.654c-2.372 58.427 28.68 107.604 88.576 147.864 107.387 65.543 235.096 29.704 274.703-27.629 31.995-43.551 36.43-85.441 9.2-146.834-27.231-61.393-40.874-94.851-34.988-149.701 5.8-44.037 5.996-78.08-26.217-93.624-34.841-16.81-71.637-14.124-117.999 5C166.452 23.24 110.75 67 71.431 117.091",

  "M71.43 107.091C34.54 140.186 7.85 195.227 5.477 263.654c-2.372 68.427 38.68 117.604 98.576 157.864 117.387 75.543 255.096 39.704 294.703-17.629 36.995-53.551 46.43-95.441 19.2-156.834-27.231-61.393-50.874-104.851-44.988-159.701 5.8-54.037-4.004-88.08-36.217-103.624-34.841-16.81-81.637-19.124-127.999 0C156.452 13.24 100.75 57 71.431 107.091",

  "M71.43 117.091C44.54 160.186 17.85 215.227 15.477 283.654c-2.372 68.427 28.68 117.604 88.576 157.864 107.387 75.543 235.096 39.704 274.703-17.629 31.995-53.551 36.43-95.441 9.2-156.834-27.231-61.393-40.874-104.851-34.988-159.701 5.8-54.037 5.996-88.08-26.217-103.624-34.841-16.81-71.637-19.124-117.999 0C166.452 33.24 110.75 77 71.431 117.091",

  "M71.43 127.091C34.54 170.186 12.85 225.227 10.477 293.654c-2.372 68.427 33.68 107.604 93.576 147.864 112.387 75.543 245.096 39.704 284.703-17.629 36.995-53.551 41.43-95.441 14.2-156.834-27.231-61.393-45.874-104.851-39.988-159.701 5.8-54.037 0.996-88.08-31.217-103.624-34.841-16.81-76.637-19.124-122.999 0C161.452 43.24 105.75 87 71.431 127.091"
];

const Bloob = ({ fill = "#FB923C", style }) => {
  const [pathIndex, setPathIndex] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setPathIndex((prev) => (prev + 1) % paths.length);
    }, 1200);

    return () => clearInterval(interval);
  }, []);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="100%"
      height="100%"
      viewBox="0 0 561 660"
      fill="none"
      className={styles.svg}
      style={style}
    >
      <motion.g>
        <motion.path
          fill={fill}
          fillRule="evenodd"
          clipRule="evenodd"
          initial={{ d: paths[0] }}
          animate={{ d: paths[pathIndex] }}
          transition={{
            duration: 1.2,
            ease: [0.4, 0, 0.2, 1]
          }}
          transform="translate(70.167,82.5) scale(1)"
        />
      </motion.g>
    </svg>
  );
};

export default Bloob;